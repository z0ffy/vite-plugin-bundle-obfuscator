var g=Object.defineProperty;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var l=(o,e,r)=>e in o?g(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,s=(o,e)=>{for(var r in e||(e={}))p.call(e,r)&&l(o,r,e[r]);if(i)for(var r of i(e))d.call(e,r)&&l(o,r,e[r]);return o};import b from"javascript-obfuscator";var m={excludes:[],enable:!0,log:!0,options:{compact:!0,controlFlowFlattening:!0,controlFlowFlatteningThreshold:1,deadCodeInjection:!1,debugProtection:!1,debugProtectionInterval:0,disableConsoleOutput:!1,identifierNamesGenerator:"hexadecimal",log:!1,numbersToExpressions:!1,renameGlobals:!1,selfDefending:!0,simplify:!0,splitStrings:!1,stringArray:!1,stringArrayCallsTransform:!1,stringArrayCallsTransformThreshold:.5,stringArrayEncoding:[],stringArrayIndexShift:!0,stringArrayRotate:!0,stringArrayShuffle:!0,stringArrayWrappersCount:1,stringArrayWrappersChainedCalls:!0,stringArrayWrappersParametersMaxCount:2,stringArrayWrappersType:"variable",stringArrayThreshold:.75,unicodeEscapeSequence:!1}};function y(o){let e=s(s({},m),o);return{name:"vite-plugin-bundle-obfuscator",transformIndexHtml:{enforce:"post",transform(r,{bundle:a}){if(!e.enable||!a)return r;let c=performance.now();console.log("Starting obfuscation process..."),Object.entries(a).forEach(([n,t])=>{"code"in t&&t.code&&e.excludes.every(u=>!n.includes(u))&&(e.log&&console.log(`Obfuscating ${n}...`),t.code=b.obfuscate(t.code,e.options).getObfuscatedCode(),e.log&&console.log(`Obfuscation complete for ${n}`))});let f=(performance.now()-c)/1e3;return console.log("Obfuscation process completed in"+f.toFixed(1)+"s"),r}}}}export{y as default};
