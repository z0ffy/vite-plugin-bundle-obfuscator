"use strict";var w=Object.create;var s=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,H=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var p=(r,o,e)=>o in r?s(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,c=(r,o)=>{for(var e in o||(o={}))d.call(o,e)&&p(r,e,o[e]);if(g)for(var e of g(o))R.call(o,e)&&p(r,e,o[e]);return r};var F=(r,o)=>{for(var e in o)s(r,e,{get:o[e],enumerable:!0})},m=(r,o,e,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of S(o))!d.call(r,n)&&n!==e&&s(r,n,{get:()=>o[n],enumerable:!(t=O(o,n))||t.enumerable});return r};var b=(r,o,e)=>(e=r!=null?w(H(r)):{},m(o||!r||!r.__esModule?s(e,"default",{value:r,enumerable:!0}):e,r)),P=r=>m(s({},"__esModule",{value:!0}),r);var M={};F(M,{default:()=>E});module.exports=P(M);var i=b(require("vite")),A=b(require("javascript-obfuscator"));function x(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function y(r){return Object.prototype.toString.call(r)==="[object String]"}var l=class{constructor(o){this.show=o;this._log=o?console.log.bind(console):this.noop}noop(o){}alwaysLog(...o){console.log(...o)}info(o){this._log(o)}};function h(r){let o=Math.floor(r/36e5),e=Math.floor(r%36e5/6e4),t=Math.floor(r%6e4/1e3);return[o?`${o}h `:"",e?`${e}m `:"",t||!o&&!e?`${t}s`:""].filter(Boolean).join("")}var C={excludes:[],enable:!0,log:!0,options:{compact:!0,controlFlowFlattening:!0,controlFlowFlatteningThreshold:1,deadCodeInjection:!1,debugProtection:!1,debugProtectionInterval:0,disableConsoleOutput:!1,identifierNamesGenerator:"hexadecimal",log:!1,numbersToExpressions:!1,renameGlobals:!1,selfDefending:!0,simplify:!0,splitStrings:!1,stringArray:!1,stringArrayCallsTransform:!1,stringArrayCallsTransformThreshold:.5,stringArrayEncoding:[],stringArrayIndexShift:!0,stringArrayRotate:!0,stringArrayShuffle:!0,stringArrayWrappersCount:1,stringArrayWrappersChainedCalls:!0,stringArrayWrappersParametersMaxCount:2,stringArrayWrappersType:"variable",stringArrayThreshold:.75,unicodeEscapeSequence:!1}};function v(r,o){for(let e of o)if(x(e)){if(e.test(r))return!0}else if(y(e)&&r.includes(e))return!0;return!1}function $(){return i!=null&&i.version?Number(i.version.split(".")[0]):2}function E(r){let o=c(c({},C),r),e=new l(o.log),t=(n,{bundle:u})=>{if(!o.enable||!u)return n;let T=performance.now();e.alwaysLog("starting obfuscation process..."),Object.entries(u).forEach(([f,a])=>{"code"in a&&a.code&&!v(f,o.excludes)&&(e.info(`obfuscating ${f}...`),a.code=A.default.obfuscate(a.code,o.options).getObfuscatedCode(),e.info(`obfuscation complete for ${f}.`))});let j=h(performance.now()-T);return e.alwaysLog("\x1B[36m%s\x1B[0m %s","\u2713",`obfuscation process completed in ${j}.`),n};return{name:"vite-plugin-bundle-obfuscator",transformIndexHtml:$()>=5?{order:"post",handler:t}:{enforce:"post",transform:t}}}
