"use strict";var w=Object.create;var s=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,P=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var p=(r,o,e)=>o in r?s(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,c=(r,o)=>{for(var e in o||(o={}))d.call(o,e)&&p(r,e,o[e]);if(u)for(var e of u(o))$.call(o,e)&&p(r,e,o[e]);return r};var j=(r,o)=>{for(var e in o)s(r,e,{get:o[e],enumerable:!0})},m=(r,o,e,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of O(o))!d.call(r,t)&&t!==e&&s(r,t,{get:()=>o[t],enumerable:!(n=H(o,t))||n.enumerable});return r};var y=(r,o,e)=>(e=r!=null?w(P(r)):{},m(o||!r||!r.__esModule?s(e,"default",{value:r,enumerable:!0}):e,r)),M=r=>m(s({},"__esModule",{value:!0}),r);var E={};j(E,{default:()=>x});module.exports=M(E);var a=y(require("vite")),v=y(require("javascript-obfuscator"));var l=class{constructor(o){this.show=o;this._log=o?console.log.bind(console):this.noop}noop(o){}alwaysLog(...o){console.log(...o)}info(o){this._log(o)}};function b(r){let o=Math.floor(r/36e5),e=Math.floor(r%36e5/6e4),n=Math.floor(r%6e4/1e3);return[o?`${o}h `:"",e?`${e}m `:"",n||!o&&!e?`${n}s`:""].filter(Boolean).join("")}var h={excludes:[],enable:!0,log:!0,options:{compact:!0,controlFlowFlattening:!0,controlFlowFlatteningThreshold:1,deadCodeInjection:!1,debugProtection:!1,debugProtectionInterval:0,disableConsoleOutput:!1,identifierNamesGenerator:"hexadecimal",log:!1,numbersToExpressions:!1,renameGlobals:!1,selfDefending:!0,simplify:!0,splitStrings:!1,stringArray:!1,stringArrayCallsTransform:!1,stringArrayCallsTransformThreshold:.5,stringArrayEncoding:[],stringArrayIndexShift:!0,stringArrayRotate:!0,stringArrayShuffle:!0,stringArrayWrappersCount:1,stringArrayWrappersChainedCalls:!0,stringArrayWrappersParametersMaxCount:2,stringArrayWrappersType:"variable",stringArrayThreshold:.75,unicodeEscapeSequence:!1}};function _(){return a!=null&&a.version?Number(a.version.split(".")[0]):2}function x(r){let o=c(c({},h),r),e=new l(o.log),n=(t,{bundle:g})=>{if(!o.enable||!g)return t;let C=performance.now();e.alwaysLog("starting obfuscation process..."),Object.entries(g).forEach(([f,i])=>{"code"in i&&i.code&&o.excludes.every(T=>!f.includes(T))&&(e.info(`obfuscating ${f}...`),i.code=v.default.obfuscate(i.code,o.options).getObfuscatedCode(),e.info(`obfuscation complete for ${f}.`))});let A=b(performance.now()-C);return e.alwaysLog("\x1B[36m%s\x1B[0m %s","\u2713",`obfuscation process completed in ${A}.`),t};return{name:"vite-plugin-bundle-obfuscator",transformIndexHtml:_()>=5?{order:"post",handler:n}:{enforce:"post",transform:n}}}
